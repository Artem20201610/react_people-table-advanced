(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{26:function(e,t,a){e.exports=a(54)},31:function(e,t,a){},36:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=a(7),s=a(1),u=(a(8),a(31),function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(l.c,{to:"/",className:"navbar-item is-tab",activeClassName:"is-active",exact:!0},"Home"),r.a.createElement(l.c,{to:"/people",className:"navbar-item is-tab",activeClassName:"is-active"},"People"))}),m=(a(36),function(){return r.a.createElement("div",{className:"home-page content is-large"},r.a.createElement("h1",null,"Home Page"))}),i=a(14),d=a(25),p=a.n(d),h=a(16),f=a(10),b=a.n(f),g=(a(47),function(e){var t=e.name,a=e.wasFound,n=e.sex,c=e.slug,o=Object(s.h)().search,u=new URLSearchParams(o);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(l.b,{to:"/people/".concat(c,"?").concat(u.toString()),className:b()({"found-man":"m"===n,"found-woman":"f"===n})},t):r.a.createElement("span",{className:"not-found"},t))});g.defaultProps={wasFound:!1,name:""};var E=a(3),v=a.n(E),N=(v.a.shape({name:v.a.string.isRequired,sex:v.a.string.isRequired,born:v.a.number.isRequired,died:v.a.number.isRequired,motherName:v.a.string,fatherName:v.a.string}),a(48),function(e){var t=e.person,a=Object(s.h)().pathname,n=a.slice(a.lastIndexOf("/")+1);return r.a.createElement("tr",{className:b()("Person",{"choosen-person":n===t.slug})},r.a.createElement("td",null,r.a.createElement(g,{name:t.name,sex:t.sex,slug:t.slug,wasFound:!0})),r.a.createElement("td",null,t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",null,r.a.createElement(g,{name:t.motherName,sex:t.mother?"f":"",slug:t.mother?t.mother.slug:"",wasFound:!!t.mother})),r.a.createElement("td",null,r.a.createElement(g,{name:t.fatherName,sex:t.father?"m":"",slug:t.father?t.father.slug:"",wasFound:!!t.father})))}),w=(a(49),function(e){var t,a=e.header,n=e.sortingHeaders,c=Object(s.g)(),o=Object(s.h)().search,l=new URLSearchParams(o),u=l.get("sortOrder"),m=l.get("sortBy");t=u&&"asc"===u?"desc":"asc";var i="https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_asc.png";a.toLowerCase()===m&&(i="asc"===t?"https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_desc.png":"https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_asc.png");return r.a.createElement("th",{onClick:function(){n.includes(a)&&(l.set("sortBy",a.toLowerCase()),l.set("sortOrder",t),c.push({search:l.toString()}))}},"".concat(a).concat(l.get("sortBy")===a.toLowerCase()?"*":""),n.includes(a)?r.a.createElement("img",{alt:"sort order",src:i}):"")}),x=(a(50),["Name","Sex","Born","Died","Mother","Father"]),O=["Name","Sex","Born","Died"],j=function(e){var t=e.people;return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,x.map((function(e){return r.a.createElement(w,{header:e,sortingHeaders:O,key:Object(h.a)()})})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(N,{key:Object(h.a)(),person:e,people:t})}))))},C=a(15),y=(a(51),function(e,t){return e.name.localeCompare(t.name)}),F=function(e,t){return e.sex.localeCompare(t.sex)},P=function(e,t){return e.born-t.born},L=function(e,t){return e.died-t.died},S=function(e,t){return t.name.localeCompare(e.name)},k=function(e,t){return t.sex.localeCompare(e.sex)},_=function(e,t){return t.born-e.born},q=function(e,t){return t.died-e.died},B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(s.g)(),l=Object(s.h)().search,u=new URLSearchParams(l),m=u.get("query")||"",d=Object(n.useState)(m),h=Object(i.a)(d,2),f=h[0],b=h[1],g=u.get("sortBy")||"",E=u.get("sortOrder");Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(t){return Object(C.a)(Object(C.a)({},t),{},{mother:e.find((function(e){return t.motherName===e.name})),father:e.find((function(e){return t.fatherName===e.name}))})}))})).then((function(e){c(e)}))}),[]);var v=[];if(m){var N=m.toLowerCase();v=a.filter((function(e){var t=e.name,a=e.motherName,n=e.fatherName;return!!t&&t.toLowerCase().includes(N)||!!a&&a.toLowerCase().includes(N)||!!n&&n.toLowerCase().includes(N)}))}else v=a;if(g)switch(g){case"name":"asc"===E?v.sort(y):v.sort(S);break;case"sex":"asc"===E?v.sort(F):v.sort(k);break;case"born":"asc"===E?v.sort(P):v.sort(_);break;case"died":"asc"===E?v.sort(L):v.sort(q)}var w=Object(n.useCallback)(p()((function(e){e?u.set("query",e):u.delete("query"),o.push({search:u.toString()})}),500),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" people-page content is-large"},r.a.createElement("h1",null,"People Page"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"input",placeholder:"Filter",value:f,onChange:function(e){var t=e.target;b(t.value),w(t.value)}})),r.a.createElement(j,{people:v})))},R=(a(52),function(){return r.a.createElement("div",{className:"not-found-page content is-large"},r.a.createElement("h1",null,"Page Not Found"))}),H=(a(53),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(u,null)),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/people"},r.a.createElement(B,null)),r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(m,null)),r.a.createElement(s.a,{path:"/home",to:"/",exact:!0}),r.a.createElement(R,null)))))});o.a.render(r.a.createElement(l.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.406f1fdf.chunk.js.map