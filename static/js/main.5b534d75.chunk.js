(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{25:function(e,t,a){e.exports=a(53)},30:function(e,t,a){},35:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(22),o=a.n(c),s=a(7),l=a(1),u=(a(8),a(30),function(){return r.a.createElement("nav",{className:"navbar"},r.a.createElement(s.c,{to:"/",className:"navbar-item is-tab",activeClassName:"is-active",exact:!0},"Home"),r.a.createElement(s.c,{to:"/people",className:"navbar-item is-tab",activeClassName:"is-active"},"People"))}),m=(a(35),function(){return r.a.createElement("div",{className:"home-page content is-large"},r.a.createElement("h1",null,"Home Page"))}),i=a(14),d=a(24),p=a.n(d),f=a(10),h=a.n(f),b=(a(46),function(e){var t=e.name,a=e.wasFound,n=e.sex,c=e.slug,o=Object(l.h)().search,u=new URLSearchParams(o);return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(s.b,{to:"/people/".concat(c,"?").concat(u.toString()),className:h()({"found-man":"m"===n,"found-woman":"f"===n})},t):r.a.createElement("span",{className:"not-found"},t))});b.defaultProps={wasFound:!1,name:""};var g=a(3),E=a.n(g),v=(E.a.shape({name:E.a.string.isRequired,sex:E.a.string.isRequired,born:E.a.number.isRequired,died:E.a.number.isRequired,motherName:E.a.string,fatherName:E.a.string}),a(47),function(e){var t=e.person,a=Object(l.h)().pathname,n=a.slice(a.lastIndexOf("/")+1);return r.a.createElement("tr",{className:h()("Person",{"choosen-person":n===t.slug})},r.a.createElement("td",null,r.a.createElement(b,{name:t.name,sex:t.sex,slug:t.slug,wasFound:!0})),r.a.createElement("td",null,t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",null,r.a.createElement(b,{name:t.motherName,sex:t.mother?"f":"",slug:t.mother?t.mother.slug:"",wasFound:!!t.mother})),r.a.createElement("td",null,r.a.createElement(b,{name:t.fatherName,sex:t.father?"m":"",slug:t.father?t.father.slug:"",wasFound:!!t.father})))}),N=(a(48),{name:"asc",sex:"asc",born:"asc",died:"asc"}),w=function(e){var t=e.header,a=e.sortingHeaders,n=Object(l.g)(),c=Object(l.h)().search,o=new URLSearchParams(c),s=o.get("sortBy"),u="https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_asc.png";t.toLowerCase()===s&&(u="asc"===N[t.toLowerCase()]?"https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_asc.png":"https://raw.githubusercontent.com/Artem20201610/react_people-table-advanced/master/public/images/sort_desc.png");return r.a.createElement("th",{onClick:function(){if(a.includes(t)){var e=N[t.toLowerCase()];N[t.toLowerCase()]="asc"===e?"desc":"asc",o.set("sortBy",t.toLowerCase()),o.set("sortOrder",e),n.push({search:o.toString()})}}},"".concat(t).concat(o.get("sortBy")===t.toLowerCase()?"*":""),a.includes(t)?r.a.createElement("img",{alt:"sort order",src:u}):"")},x=(a(49),["Name","Sex","Born","Died","Mother","Father"]),C=["Name","Sex","Born","Died"],O=function(e){var t=e.people;return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,x.map((function(e){return r.a.createElement(w,{header:e,sortingHeaders:C,key:e})})))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement(v,{key:e.slug,person:e,people:t})}))))},j=a(15),y=(a(50),function(e,t){return e.name.localeCompare(t.name)}),L=function(e,t){return e.sex.localeCompare(t.sex)},F=function(e,t){return e.born-t.born},P=function(e,t){return e.died-t.died},S=function(e,t){return t.name.localeCompare(e.name)},k=function(e,t){return t.sex.localeCompare(e.sex)},_=function(e,t){return t.born-e.born},q=function(e,t){return t.died-e.died},B=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(l.g)(),s=Object(l.h)().search,u=new URLSearchParams(s),m=u.get("query")||"",d=Object(n.useState)(m),f=Object(i.a)(d,2),h=f[0],b=f[1],g=u.get("sortBy")||"",E=u.get("sortOrder");Object(n.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{mother:e.find((function(e){return t.motherName===e.name})),father:e.find((function(e){return t.fatherName===e.name}))})}))})).then((function(e){c(e)}))}),[]);var v=[];if(m){var N=m.toLowerCase();v=a.filter((function(e){var t=e.name,a=e.motherName,n=e.fatherName;return!!t&&t.toLowerCase().includes(N)||!!a&&a.toLowerCase().includes(N)||!!n&&n.toLowerCase().includes(N)}))}else v=a;if(g)switch(g){case"name":"asc"===E?v.sort(y):v.sort(S);break;case"sex":"asc"===E?v.sort(L):v.sort(k);break;case"born":"asc"===E?v.sort(F):v.sort(_);break;case"died":"asc"===E?v.sort(P):v.sort(q)}var w=Object(n.useCallback)(p()((function(e){e?u.set("query",e):u.delete("query"),o.push({search:u.toString()})}),500),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:" people-page content is-large"},r.a.createElement("h1",null,"People Page"),r.a.createElement("form",null,r.a.createElement("input",{type:"text",className:"input",placeholder:"Filter",value:h,onChange:function(e){var t=e.target;b(t.value),w(t.value)}})),r.a.createElement(O,{people:v})))},R=(a(51),function(){return r.a.createElement("div",{className:"not-found-page content is-large"},r.a.createElement("h1",null,"Page Not Found"))}),H=(a(52),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(u,null)),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/people"},r.a.createElement(B,null)),r.a.createElement(l.b,{path:"/",exact:!0},r.a.createElement(m,null)),r.a.createElement(l.a,{path:"/home",to:"/",exact:!0}),r.a.createElement(R,null)))))});o.a.render(r.a.createElement(s.a,null,r.a.createElement(H,null)),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.5b534d75.chunk.js.map